Started GET "/" for 127.0.0.1 at 2025-05-04 21:07:59 +0700
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY) /*application='Chatapp2'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='Chatapp2'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Chatapp2'*/[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate

You have 6 pending migrations:

db/migrate/20250502022111_create_rooms.rb
db/migrate/20250502025813_create_messages.rb
db/migrate/20250502065934_devise_create_users.rb
db/migrate/20250502074859_add_username_to_users.rb
db/migrate/20250502085013_create_room_users.rb
db/migrate/20250502152204_add_user_id_to_messages.rb


):
  
activerecord (8.0.2) lib/active_record/migration.rb:743:in `check_pending_migrations'
activerecord (8.0.2) lib/active_record/migration.rb:660:in `block (2 levels) in call'
activesupport (8.0.2) lib/active_support/file_update_checker.rb:85:in `execute'
activerecord (8.0.2) lib/active_record/migration.rb:665:in `block in call'
activerecord (8.0.2) lib/active_record/migration.rb:657:in `synchronize'
activerecord (8.0.2) lib/active_record/migration.rb:657:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (8.0.2) lib/active_support/callbacks.rb:100:in `run_callbacks'
actionpack (8.0.2) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (8.0.2) lib/rails/rack/logger.rb:41:in `call_app'
railties (8.0.2) lib/rails/rack/logger.rb:29:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/request_id.rb:34:in `call'
rack (3.1.13) lib/rack/method_override.rb:28:in `call'
rack (3.1.13) lib/rack/runtime.rb:24:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.13) lib/rack/sendfile.rb:114:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
railties (8.0.2) lib/rails/engine.rb:535:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
Started GET "/favicon.ico" for 127.0.0.1 at 2025-05-04 21:07:59 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Chatapp2'*/[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate

You have 6 pending migrations:

db/migrate/20250502022111_create_rooms.rb
db/migrate/20250502025813_create_messages.rb
db/migrate/20250502065934_devise_create_users.rb
db/migrate/20250502074859_add_username_to_users.rb
db/migrate/20250502085013_create_room_users.rb
db/migrate/20250502152204_add_user_id_to_messages.rb


):
  
activerecord (8.0.2) lib/active_record/migration.rb:743:in `check_pending_migrations'
activerecord (8.0.2) lib/active_record/migration.rb:660:in `block (2 levels) in call'
activesupport (8.0.2) lib/active_support/file_update_checker.rb:85:in `execute'
activerecord (8.0.2) lib/active_record/migration.rb:665:in `block in call'
activerecord (8.0.2) lib/active_record/migration.rb:657:in `synchronize'
activerecord (8.0.2) lib/active_record/migration.rb:657:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/callbacks.rb:31:in `block in call'
activesupport (8.0.2) lib/active_support/callbacks.rb:100:in `run_callbacks'
actionpack (8.0.2) lib/action_dispatch/middleware/callbacks.rb:30:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/actionable_exceptions.rb:18:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/debug_exceptions.rb:31:in `call'
web-console (4.2.1) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.2.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `catch'
web-console (4.2.1) lib/web_console/middleware.rb:17:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/show_exceptions.rb:32:in `call'
railties (8.0.2) lib/rails/rack/logger.rb:41:in `call_app'
railties (8.0.2) lib/rails/rack/logger.rb:29:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/remote_ip.rb:96:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/request_id.rb:34:in `call'
rack (3.1.13) lib/rack/method_override.rb:28:in `call'
rack (3.1.13) lib/rack/runtime.rb:24:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:61:in `block in call'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:26:in `collect_events'
actionpack (8.0.2) lib/action_dispatch/middleware/server_timing.rb:60:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/executor.rb:16:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/static.rb:27:in `call'
rack (3.1.13) lib/rack/sendfile.rb:114:in `call'
actionpack (8.0.2) lib/action_dispatch/middleware/host_authorization.rb:143:in `call'
railties (8.0.2) lib/rails/engine.rb:535:in `call'
puma (6.6.0) lib/puma/configuration.rb:279:in `call'
puma (6.6.0) lib/puma/request.rb:99:in `block in handle_request'
puma (6.6.0) lib/puma/thread_pool.rb:390:in `with_force_shutdown'
puma (6.6.0) lib/puma/request.rb:98:in `handle_request'
puma (6.6.0) lib/puma/server.rb:472:in `process_client'
puma (6.6.0) lib/puma/server.rb:254:in `block in run'
puma (6.6.0) lib/puma/thread_pool.rb:167:in `block in spawn_thread'
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Chatapp2'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.3ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-05-04 14:08:19.835214', '2025-05-04 14:08:19.835215') RETURNING "key" /*application='Chatapp2'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Chatapp2'*/[0m
Migrating to CreateRooms (20250502022111)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Chatapp2'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='Chatapp2'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250502022111') RETURNING "version" /*application='Chatapp2'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Chatapp2'*/[0m
Migrating to CreateMessages (20250502025813)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Chatapp2'*/[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content" varchar, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
) /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_messages_on_room_id" ON "messages" ("room_id") /*application='Chatapp2'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250502025813') RETURNING "version" /*application='Chatapp2'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Chatapp2'*/[0m
Migrating to DeviseCreateUsers (20250502065934)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Chatapp2'*/[0m
  [1m[35m (2.3ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email") /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token") /*application='Chatapp2'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.1ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250502065934') RETURNING "version" /*application='Chatapp2'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Chatapp2'*/[0m
Migrating to AddUsernameToUsers (20250502074859)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Chatapp2'*/[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "users" ADD "username" varchar /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_username" ON "users" ("username") /*application='Chatapp2'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250502074859') RETURNING "version" /*application='Chatapp2'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Chatapp2'*/[0m
Migrating to CreateRoomUsers (20250502085013)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Chatapp2'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "room_users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "room_id" integer NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_99ebf589ee"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
, CONSTRAINT "fk_rails_f4e2e6f10e"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
) /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_room_users_on_room_id" ON "room_users" ("room_id") /*application='Chatapp2'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE INDEX "index_room_users_on_user_id" ON "room_users" ("user_id") /*application='Chatapp2'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250502085013') RETURNING "version" /*application='Chatapp2'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Chatapp2'*/[0m
Migrating to AddUserIdToMessages (20250502152204)
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Chatapp2'*/[0m
  [1m[35m (0.4ms)[0m  [1m[35mALTER TABLE "messages" ADD "user_id" integer /*application='Chatapp2'*/[0m
  [1m[36mActiveRecord::SchemaMigration Create (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ('20250502152204') RETURNING "version" /*application='Chatapp2'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Chatapp2'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Chatapp2'*/[0m
Started GET "/" for 127.0.0.1 at 2025-05-04 21:08:24 +0700
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Chatapp2'*/[0m
Processing by RoomsController#index as HTML
  [1m[36mRoom Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" LIMIT 1 /*action='index',application='Chatapp2',controller='rooms'*/[0m
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  [1m[36mCACHE Room Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" LIMIT 1[0m
  â†³ app/controllers/rooms_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" /*action='index',application='Chatapp2',controller='rooms'*/[0m
  â†³ app/views/rooms/index.html.erb:14
  Rendered rooms/index.html.erb within layouts/application (Duration: 10.5ms | GC: 6.9ms)
  Rendered layout layouts/application.html.erb (Duration: 15.3ms | GC: 8.1ms)
Completed 200 OK in 65ms (Views: 16.7ms | ActiveRecord: 1.0ms (3 queries, 1 cached) | GC: 8.1ms)


Started GET "/assets/application-c66550c8.css" for 127.0.0.1 at 2025-05-04 21:08:24 +0700
Started GET "/users/sign_in" for 127.0.0.1 at 2025-05-04 21:08:28 +0700
Processing by Devise::SessionsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/shared/_links.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered devise/sessions/new.html.erb within layouts/application (Duration: 7.2ms | GC: 0.7ms)
  Rendered layout layouts/application.html.erb (Duration: 7.5ms | GC: 0.7ms)
Completed 200 OK in 47ms (Views: 8.3ms | ActiveRecord: 0.2ms (0 queries, 0 cached) | GC: 1.1ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2025-05-04 21:08:30 +0700
Processing by Devise::RegistrationsController#new as HTML
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.2ms | GC: 0.0ms)
  Rendered devise/shared/_links.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered devise/registrations/new.html.erb within layouts/application (Duration: 1.8ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 2.0ms | GC: 0.0ms)
Completed 200 OK in 30ms (Views: 2.8ms | ActiveRecord: 0.0ms (0 queries, 0 cached) | GC: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2025-05-04 21:08:49 +0700
Processing by Devise::RegistrationsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"email"=>"[FILTERED]", "username"=>"kk", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create',application='Chatapp2',controller='registrations'*/[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'kk' LIMIT 1 /*action='create',application='Chatapp2',controller='registrations'*/[0m
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'kk@gmail.com' LIMIT 1 /*action='create',application='Chatapp2',controller='registrations'*/[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "username") VALUES ('kk@gmail.com', '$2a$12$FQfNH9sox0JL/T9hgxDzYeMDqzkK5VXJZIkx1JqcMguWKSvq6hAMG', NULL, NULL, NULL, '2025-05-04 14:08:50.287113', '2025-05-04 14:08:50.287113', 'kk') RETURNING "id" /*action='create',application='Chatapp2',controller='registrations'*/[0m
  [1m[36mTRANSACTION (0.2ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create',application='Chatapp2',controller='registrations'*/[0m
Redirected to http://127.0.0.1:3000/
Completed 303 See Other in 635ms (ActiveRecord: 0.9ms (3 queries, 0 cached) | GC: 5.3ms)


Started GET "/" for 127.0.0.1 at 2025-05-04 21:08:50 +0700
Processing by RoomsController#index as TURBO_STREAM
  [1m[36mRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" LIMIT 1 /*action='index',application='Chatapp2',controller='rooms'*/[0m
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  [1m[36mCACHE Room Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" LIMIT 1[0m
  â†³ app/controllers/rooms_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='Chatapp2',controller='rooms'*/[0m
  â†³ app/views/rooms/index.html.erb:2
  [1m[36mRoom Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" /*action='index',application='Chatapp2',controller='rooms'*/[0m
  â†³ app/views/rooms/index.html.erb:14
  [1m[36mRoom Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "rooms" /*action='index',application='Chatapp2',controller='rooms'*/[0m
  â†³ app/views/rooms/index.html.erb:24
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" /*action='index',application='Chatapp2',controller='rooms'*/[0m
  â†³ app/views/rooms/_form.html.erb:22
  Rendered rooms/_form.html.erb (Duration: 2.2ms | GC: 0.0ms)
  Rendered messages/_form.html.erb (Duration: 0.8ms | GC: 0.0ms)
  Rendered rooms/index.html.erb within layouts/application (Duration: 12.4ms | GC: 0.4ms)
  Rendered layout layouts/application.html.erb (Duration: 12.6ms | GC: 0.4ms)
Completed 200 OK in 26ms (Views: 12.3ms | ActiveRecord: 0.5ms (6 queries, 1 cached) | GC: 0.6ms)


Started GET "/users/edit" for 127.0.0.1 at 2025-05-04 21:08:56 +0700
Processing by Devise::RegistrationsController#edit as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 ORDER BY "users"."id" ASC LIMIT 1 /*action='edit',application='Chatapp2',controller='registrations'*/[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 1.4ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.7ms | GC: 0.0ms)
Completed 200 OK in 34ms (Views: 2.3ms | ActiveRecord: 0.3ms (1 query, 0 cached) | GC: 0.0ms)


Started PUT "/users" for 127.0.0.1 at 2025-05-04 21:09:15 +0700
Processing by Devise::RegistrationsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"nn", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "current_password"=>"[FILTERED]"}, "commit"=>"Update"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 ORDER BY "users"."id" ASC LIMIT 1 /*action='update',application='Chatapp2',controller='registrations'*/[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='update',application='Chatapp2',controller='registrations'*/[0m
  [1m[36mUser Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'nn' AND "users"."id" != 1 LIMIT 1 /*action='update',application='Chatapp2',controller='registrations'*/[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 4.8ms | GC: 4.6ms)
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 5.7ms | GC: 4.6ms)
  Rendered layout layouts/application.html.erb (Duration: 5.9ms | GC: 4.6ms)
Completed 422 Unprocessable Content in 222ms (Views: 6.0ms | ActiveRecord: 0.4ms (3 queries, 0 cached) | GC: 4.6ms)


Started PUT "/users" for 127.0.0.1 at 2025-05-04 21:09:25 +0700
Processing by Devise::RegistrationsController#update as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "user"=>{"username"=>"nn", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "current_password"=>"[FILTERED]"}, "commit"=>"Update"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 ORDER BY "users"."id" ASC LIMIT 1 /*action='update',application='Chatapp2',controller='registrations'*/[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='update',application='Chatapp2',controller='registrations'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='update',application='Chatapp2',controller='registrations'*/[0m
  [1m[36mUser Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'nn' AND "users"."id" != 1 LIMIT 1 /*action='update',application='Chatapp2',controller='registrations'*/[0m
  [1m[36mUser Update (0.0ms)[0m  [1m[33mUPDATE "users" SET "updated_at" = '2025-05-04 14:09:25.498883', "username" = 'nn' WHERE "users"."id" = 1 /*action='update',application='Chatapp2',controller='registrations'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='update',application='Chatapp2',controller='registrations'*/[0m
Redirected to http://127.0.0.1:3000/
Completed 303 See Other in 217ms (ActiveRecord: 1.2ms (4 queries, 0 cached) | GC: 0.2ms)


Started GET "/" for 127.0.0.1 at 2025-05-04 21:09:25 +0700
Processing by RoomsController#index as TURBO_STREAM
  [1m[36mRoom Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" LIMIT 1 /*action='index',application='Chatapp2',controller='rooms'*/[0m
  â†³ app/controllers/rooms_controller.rb:9:in `index'
  [1m[36mCACHE Room Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "rooms" LIMIT 1[0m
  â†³ app/controllers/rooms_controller.rb:11:in `index'
  Rendering layout layouts/application.html.erb
  Rendering rooms/index.html.erb within layouts/application
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 ORDER BY "users"."id" ASC LIMIT 1 /*action='index',application='Chatapp2',controller='rooms'*/[0m
  â†³ app/views/rooms/index.html.erb:2
  [1m[36mRoom Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" /*action='index',application='Chatapp2',controller='rooms'*/[0m
  â†³ app/views/rooms/index.html.erb:14
  [1m[36mRoom Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "rooms" /*action='index',application='Chatapp2',controller='rooms'*/[0m
  â†³ app/views/rooms/index.html.erb:24
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" /*action='index',application='Chatapp2',controller='rooms'*/[0m
  â†³ app/views/rooms/_form.html.erb:22
  Rendered rooms/_form.html.erb (Duration: 0.5ms | GC: 0.0ms)
  Rendered messages/_form.html.erb (Duration: 0.1ms | GC: 0.0ms)
  Rendered rooms/index.html.erb within layouts/application (Duration: 2.3ms | GC: 0.3ms)
  Rendered layout layouts/application.html.erb (Duration: 2.5ms | GC: 0.3ms)
Completed 200 OK in 15ms (Views: 2.5ms | ActiveRecord: 0.1ms (6 queries, 1 cached) | GC: 0.6ms)


Started POST "/messages" for 127.0.0.1 at 2025-05-04 21:09:34 +0700
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"content"=>"qqwdq", "room_id"=>""}, "commit"=>"Create Message"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Chatapp2',controller='messages'*/[0m
  â†³ app/controllers/messages_controller.rb:30:in `create'
  Rendering layout /Users/katie/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/turbo-rails-2.0.13/app/views/layouts/turbo_rails/frame.html.erb
  Rendering messages/new.html.erb within layouts/turbo_rails/frame
  Rendered messages/_form.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered messages/new.html.erb within layouts/turbo_rails/frame (Duration: 0.6ms | GC: 0.0ms)
  Rendered layout /Users/katie/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/turbo-rails-2.0.13/app/views/layouts/turbo_rails/frame.html.erb (Duration: 0.7ms | GC: 0.0ms)
Completed 422 Unprocessable Content in 23ms (Views: 1.6ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


Started POST "/rooms" for 127.0.0.1 at 2025-05-04 21:09:41 +0700
Processing by RoomsController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "room"=>{"name"=>"Room 1 ", "user_ids"=>["", "1"]}, "commit"=>"Create Room"}
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create',application='Chatapp2',controller='rooms'*/[0m
  â†³ app/controllers/rooms_controller.rb:33:in `block in create'
  [1m[36mRoom Create (0.6ms)[0m  [1m[32mINSERT INTO "rooms" ("name", "created_at", "updated_at") VALUES ('Room 1 ', '2025-05-04 14:09:41.441746', '2025-05-04 14:09:41.441746') RETURNING "id" /*action='create',application='Chatapp2',controller='rooms'*/[0m
  â†³ app/controllers/rooms_controller.rb:33:in `block in create'
  [1m[36mRoom Load (0.0ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = 1 LIMIT 1 /*action='create',application='Chatapp2',controller='rooms'*/[0m
  â†³ app/models/room.rb:16:in `block in assign_users'
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1 /*action='create',application='Chatapp2',controller='rooms'*/[0m
  â†³ app/models/room.rb:16:in `block in assign_users'
  [1m[36mRoomUser Create (0.0ms)[0m  [1m[32mINSERT INTO "room_users" ("room_id", "user_id", "created_at", "updated_at") VALUES (1, 1, '2025-05-04 14:09:41.453937', '2025-05-04 14:09:41.453937') RETURNING "id" /*action='create',application='Chatapp2',controller='rooms'*/[0m
  â†³ app/models/room.rb:16:in `block in assign_users'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create',application='Chatapp2',controller='rooms'*/[0m
  â†³ app/controllers/rooms_controller.rb:33:in `block in create'
  Rendering rooms/create.turbo_stream.erb
  Rendered rooms/_room.html.erb (Duration: 0.2ms | GC: 0.0ms)
  [1m[36mRoom Count (0.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "rooms" /*action='create',application='Chatapp2',controller='rooms'*/[0m
  â†³ app/views/rooms/create.turbo_stream.erb:2
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" /*action='create',application='Chatapp2',controller='rooms'*/[0m
  â†³ app/views/rooms/_form.html.erb:22
  Rendered rooms/_form.html.erb (Duration: 0.8ms | GC: 0.1ms)
  Rendered rooms/create.turbo_stream.erb (Duration: 3.2ms | GC: 0.1ms)
Completed 200 OK in 45ms (Views: 3.5ms | ActiveRecord: 1.0ms (6 queries, 0 cached) | GC: 5.0ms)


Started GET "/messages?room_id=1" for 127.0.0.1 at 2025-05-04 21:09:43 +0700
Processing by MessagesController#index as HTML
  Parameters: {"room_id"=>"1"}
  [1m[36mRoom Load (0.1ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = 1 LIMIT 1 /*action='index',application='Chatapp2',controller='messages'*/[0m
  â†³ app/controllers/messages_controller.rb:7:in `index'
  Rendering layout /Users/katie/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/turbo-rails-2.0.13/app/views/layouts/turbo_rails/frame.html.erb
  Rendering messages/index.html.erb within layouts/turbo_rails/frame
  [1m[36mMessage Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "messages" WHERE "messages"."room_id" = 1 LIMIT 1 /*action='index',application='Chatapp2',controller='messages'*/[0m
  â†³ app/views/messages/index.html.erb:3
  [1m[36mMessage Load (0.0ms)[0m  [1m[34mSELECT "messages".* FROM "messages" WHERE "messages"."room_id" = 1 /*action='index',application='Chatapp2',controller='messages'*/[0m
  â†³ app/views/messages/index.html.erb:9
  Rendered messages/_form.html.erb (Duration: 0.6ms | GC: 0.1ms)
  Rendered messages/index.html.erb within layouts/turbo_rails/frame (Duration: 4.1ms | GC: 0.1ms)
  Rendered layout /Users/katie/.rbenv/versions/3.3.0/lib/ruby/gems/3.3.0/gems/turbo-rails-2.0.13/app/views/layouts/turbo_rails/frame.html.erb (Duration: 4.2ms | GC: 0.1ms)
Completed 200 OK in 41ms (Views: 4.4ms | ActiveRecord: 0.2ms (3 queries, 0 cached) | GC: 0.2ms)


Started GET "/cable" for 127.0.0.1 at 2025-05-04 21:09:43 +0700
Started GET "/cable" [WebSocket] for 127.0.0.1 at 2025-05-04 21:09:43 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Turbo::StreamsChannel is transmitting the subscription confirmation
Turbo::StreamsChannel is streaming from Z2lkOi8vY2hhdGFwcDIvUm9vbS8x
Started POST "/messages" for 127.0.0.1 at 2025-05-04 21:09:46 +0700
Processing by MessagesController#create as TURBO_STREAM
  Parameters: {"authenticity_token"=>"[FILTERED]", "message"=>{"content"=>"qwdqd", "room_id"=>"1"}, "commit"=>"Create Message"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 ORDER BY "users"."id" ASC LIMIT 1 /*action='create',application='Chatapp2',controller='messages'*/[0m
  â†³ app/controllers/messages_controller.rb:30:in `create'
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*action='create',application='Chatapp2',controller='messages'*/[0m
  â†³ app/controllers/messages_controller.rb:33:in `block in create'
  [1m[36mRoom Load (0.5ms)[0m  [1m[34mSELECT "rooms".* FROM "rooms" WHERE "rooms"."id" = 1 LIMIT 1 /*action='create',application='Chatapp2',controller='messages'*/[0m
  â†³ app/controllers/messages_controller.rb:33:in `block in create'
  [1m[36mMessage Create (0.1ms)[0m  [1m[32mINSERT INTO "messages" ("content", "room_id", "created_at", "updated_at", "user_id") VALUES ('qwdqd', 1, '2025-05-04 14:09:46.459791', '2025-05-04 14:09:46.459791', 1) RETURNING "id" /*action='create',application='Chatapp2',controller='messages'*/[0m
  â†³ app/controllers/messages_controller.rb:33:in `block in create'
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*action='create',application='Chatapp2',controller='messages'*/[0m
  â†³ app/controllers/messages_controller.rb:33:in `block in create'
  Rendered messages/_message.html.erb (Duration: 0.5ms | GC: 0.0ms)
[ActionCable] Broadcasting to Z2lkOi8vY2hhdGFwcDIvUm9vbS8x: "<turbo-stream action=\"append\" target=\"message-list\"><template><!-- BEGIN app/views/messages/_message.html.erb --><div id=\"message_1\" class=\"message\">\n  <p>\n      <strong>nn: </strong>\n    qwdqd\n  </p>\n    <form class=\"button_to\" method=\"post\" action=\"/messages/1\"><input type=\...
Turbo::StreamsChannel transmitting "<turbo-stream action=\"append\" target=\"message-list\"><template><!-- BEGIN app/views/messages/_message.html.erb --><div id=\"message_1\" class=\"message\">\n  <p>\n      <strong>nn: </strong>\n    qwdqd\n  </p>\n    <form class=\"button_to\" method=\"post\" action=\"/messages/1\"><input type=\... (via streamed from Z2lkOi8vY2hhdGFwcDIvUm9vbS8x)
  Rendering messages/create.turbo_stream.erb
  Rendered messages/_message.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered messages/_form.html.erb (Duration: 0.3ms | GC: 0.0ms)
  Rendered messages/create.turbo_stream.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 36ms (Views: 1.4ms | ActiveRecord: 0.7ms (3 queries, 0 cached) | GC: 0.0ms)


Started GET "/users/edit" for 127.0.0.1 at 2025-05-04 21:09:52 +0700
Processing by Devise::RegistrationsController#edit as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = 1 ORDER BY "users"."id" ASC LIMIT 1 /*action='edit',application='Chatapp2',controller='registrations'*/[0m
  Rendering layout layouts/application.html.erb
  Rendering devise/registrations/edit.html.erb within layouts/application
  Rendered devise/shared/_error_messages.html.erb (Duration: 0.0ms | GC: 0.0ms)
  Rendered devise/registrations/edit.html.erb within layouts/application (Duration: 0.9ms | GC: 0.0ms)
  Rendered layout layouts/application.html.erb (Duration: 1.1ms | GC: 0.0ms)
Completed 200 OK in 25ms (Views: 1.3ms | ActiveRecord: 0.1ms (1 query, 0 cached) | GC: 0.0ms)


  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Chatapp2'*/[0m
  [1m[36mUser Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'testuser' LIMIT 1 /*application='Chatapp2'*/[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'test@example.com' LIMIT 1 /*application='Chatapp2'*/[0m
  [1m[36mUser Create (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "reset_password_token", "reset_password_sent_at", "remember_created_at", "created_at", "updated_at", "username") VALUES ('test@example.com', '$2a$12$5M7pGlMdD0WYfPSVmZyT0eBGhbv/C239iyWR9DPIJTsTw6j8ERkX.', NULL, NULL, NULL, '2025-05-04 14:38:52.469831', '2025-05-04 14:38:52.469831', 'testuser') RETURNING "id" /*application='Chatapp2'*/[0m
  [1m[36mTRANSACTION (0.1ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Chatapp2'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Chatapp2'*/[0m
  [1m[36mUser Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."username" = 'testuser' LIMIT 1 /*application='Chatapp2'*/[0m
  [1m[36mUser Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."email" = 'test@example.com' LIMIT 1 /*application='Chatapp2'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[31mROLLBACK TRANSACTION /*application='Chatapp2'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Chatapp2'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Chatapp2'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Chatapp2'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Chatapp2'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Chatapp2'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Chatapp2'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE IF EXISTS "messages" /*application='Chatapp2'*/[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content" varchar, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer) /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_messages_on_room_id" ON "messages" ("room_id") /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "room_users" /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "room_users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "room_id" integer NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_room_users_on_room_id" ON "room_users" ("room_id") /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_room_users_on_user_id" ON "room_users" ("user_id") /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "rooms" /*application='Chatapp2'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "rooms" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" /*application='Chatapp2'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "encrypted_password" varchar DEFAULT '' NOT NULL, "reset_password_token" varchar, "reset_password_sent_at" datetime(6), "remember_created_at" datetime(6), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "username" varchar) /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email") /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_reset_password_token" ON "users" ("reset_password_token") /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_username" ON "users" ("username") /*application='Chatapp2'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Chatapp2'*/[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mPRAGMA foreign_keys /*application='Chatapp2'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='Chatapp2'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "amessages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content" varchar, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer) /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_amessages_on_room_id" ON "amessages" ("room_id") /*application='Chatapp2'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "amessages" ("id","content","room_id","created_at","updated_at","user_id")
                     SELECT "id","content","room_id","created_at","updated_at","user_id" FROM "messages" /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "messages" /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "messages" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "content" varchar, "room_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "user_id" integer, CONSTRAINT "fk_rails_a8db0fb63a"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
) /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_messages_on_room_id" ON "messages" ("room_id") /*application='Chatapp2'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "messages" ("id","content","room_id","created_at","updated_at","user_id")
                     SELECT "id","content","room_id","created_at","updated_at","user_id" FROM "amessages" /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "amessages" /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='Chatapp2'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Chatapp2'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Chatapp2'*/[0m
  [1m[35mSQL (0.3ms)[0m  [1m[35mPRAGMA foreign_keys /*application='Chatapp2'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aroom_users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "room_id" integer NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aroom_users_on_user_id" ON "aroom_users" ("user_id") /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aroom_users_on_room_id" ON "aroom_users" ("room_id") /*application='Chatapp2'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "aroom_users" ("id","room_id","user_id","created_at","updated_at")
                     SELECT "id","room_id","user_id","created_at","updated_at" FROM "room_users" /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "room_users" /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "room_users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "room_id" integer NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_99ebf589ee"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
) /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_room_users_on_room_id" ON "room_users" ("room_id") /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_room_users_on_user_id" ON "room_users" ("user_id") /*application='Chatapp2'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "room_users" ("id","room_id","user_id","created_at","updated_at")
                     SELECT "id","room_id","user_id","created_at","updated_at" FROM "aroom_users" /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "aroom_users" /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='Chatapp2'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Chatapp2'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mBEGIN immediate TRANSACTION /*application='Chatapp2'*/[0m
  [1m[35mSQL (0.2ms)[0m  [1m[35mPRAGMA foreign_keys /*application='Chatapp2'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = OFF /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aroom_users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "room_id" integer NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aroom_users_on_user_id" ON "aroom_users" ("user_id") /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "tindex_aroom_users_on_room_id" ON "aroom_users" ("room_id") /*application='Chatapp2'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "aroom_users" ("id","room_id","user_id","created_at","updated_at")
                     SELECT "id","room_id","user_id","created_at","updated_at" FROM "room_users" /*application='Chatapp2'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mDROP TABLE "room_users" /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "room_users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "room_id" integer NOT NULL, "user_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_99ebf589ee"
FOREIGN KEY ("room_id")
  REFERENCES "rooms" ("id")
, CONSTRAINT "fk_rails_f4e2e6f10e"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
) /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_room_users_on_room_id" ON "room_users" ("room_id") /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE INDEX "index_room_users_on_user_id" ON "room_users" ("user_id") /*application='Chatapp2'*/[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "room_users" ("id","room_id","user_id","created_at","updated_at")
                     SELECT "id","room_id","user_id","created_at","updated_at" FROM "aroom_users" /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mDROP TABLE "aroom_users" /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0 /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mPRAGMA foreign_keys = 1 /*application='Chatapp2'*/[0m
  [1m[36mTRANSACTION (0.0ms)[0m  [1m[35mCOMMIT TRANSACTION /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY) /*application='Chatapp2'*/[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20250502152204) /*application='Chatapp2'*/[0m
  [1m[35m (0.0ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20250502085013),
(20250502074859),
(20250502065934),
(20250502025813),
(20250502022111); /*application='Chatapp2'*/[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL) /*application='Chatapp2'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Chatapp2'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('environment', 'development', '2025-05-04 14:47:14.728504', '2025-05-04 14:47:14.728505') RETURNING "key" /*application='Chatapp2'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'environment' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Chatapp2'*/[0m
  [1m[36mActiveRecord::InternalMetadata Update (0.0ms)[0m  [1m[33mUPDATE "ar_internal_metadata" SET "value" = 'test', "updated_at" = '2025-05-04 14:47:14.729175' WHERE "ar_internal_metadata"."key" = 'environment' /*application='Chatapp2'*/[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT * FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = 'schema_sha1' ORDER BY "ar_internal_metadata"."key" ASC LIMIT 1 /*application='Chatapp2'*/[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.0ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ('schema_sha1', 'c4988917b0f9dcacfc56ec1f45aa1aff70453813', '2025-05-04 14:47:14.729743', '2025-05-04 14:47:14.729744') RETURNING "key" /*application='Chatapp2'*/[0m
